<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Dino Spiel mit Bildern</title>
  <style>
    body {
      margin: 0;
      background: #f7f7f7;
      overflow: hidden;
    }
    canvas {
      display: block;
      margin: auto;
      background: #fff;
      border: 2px solid #000;
    }
  </style>
</head>
<body>
  <canvas id="game" width="800" height="300"></canvas>
  <script>
    const canvas = document.getElementById("game");
    const ctx = canvas.getContext("2d");

    // Bilder laden
    const dinoImg = new Image();
    dinoImg.src = "dino.png";

    const cactusImg = new Image();
    cactusImg.src = "cactus.png";

    const bgImg = new Image();
    bgImg.src = "background.png";

    // Dino Eigenschaften
    const dino = {
      x: 50,
      y: 220,
      width: 60,
      height: 60,
      dy: 0,
      gravity: 1,
      jumpPower: -15,
      isJumping: false
    };

    // Hindernisse
    let obstacles = [];
    let spawnTimer = 0;

    // Score
    let score = 0;
    let gameOver = false;

    // Steuerung
    document.addEventListener("keydown", e => {
      if (e.code === "Space" && !dino.isJumping) {
        dino.dy = dino.jumpPower;
        dino.isJumping = true;
      }
    });

    // FÃ¼r Touch auf Smartphone
    document.addEventListener("touchstart", () => {
      if (!dino.isJumping) {
        dino.dy = dino.jumpPower;
        dino.isJumping = true;
      }
    });

    function update() {
      if (gameOver) return;

      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // Hintergrund
      ctx.drawImage(bgImg, 0, 0, canvas.width, canvas.height);

      // Dino Bewegung
      dino.y += dino.dy;
      dino.dy += dino.gravity;
      if (dino.y >= 220) {
        dino.y = 220;
        dino.isJumping = false;
      }

      // Dino zeichnen
      ctx.drawImage(dinoImg, dino.x, dino.y, dino.width, dino.height);

      // Hindernisse spawnen
      spawnTimer++;
      if (spawnTimer > 80) {
        spawnTimer = 0;
        obstacles.push({ x: canvas.width, y: 220, width: 40, height: 60 });
      }

      // Hindernisse bewegen und zeichnen
      for (let i = 0; i < obstacles.length; i++) {
        let obs = obstacles[i];
        obs.x -= 6;
        ctx.drawImage(cactusImg, obs.x, obs.y, obs.width, obs.height);

        // Kollision
        if (
          dino.x < obs.x + obs.width &&
          dino.x + dino.width > obs.x &&
          dino.y < obs.y + obs.height &&
          dino.y + dino.height > obs.y
        ) {
          gameOver = true;
        }
      }

      // Score
      score++;
      ctx.fillStyle = "black";
      ctx.font = "20px Arial";
      ctx.fillText("Score: " + score, 10, 20);

      if (gameOver) {
        ctx.fillStyle = "red";
        ctx.font = "40px Arial";
        ctx.fillText("Game Over!", canvas.width / 2 - 100, canvas.height / 2);
      } else {
        requestAnimationFrame(update);
      }
    }

    update();
  </script>
</body>
</html>